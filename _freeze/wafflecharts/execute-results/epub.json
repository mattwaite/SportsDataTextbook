{
  "hash": "52e6420dcca259ed25c2af6b3ba523b4",
  "result": {
    "markdown": "# Waffle charts\n\nPie charts are the devil. They should be an instant F in any data visualization class. The problem? How carefully can you evaluate angles and area? Unless they are blindingly obvious and only a few categories, not well. If you've got 25 categories, how can you tell the difference between 7 and 9 percent? You can't.\n\nSo let's introduce a better way: The Waffle Chart. Some call it a square pie chart. I personally hate that. Waffles it is.\n\n**A waffle chart is designed to show you parts of the whole -- proportionality**. How many yards on offense come from rushing or passing. How many singles, doubles, triples and home runs make up a teams hits. How many shots a basketball team takes are two pointers versus three pointers.\n\nFirst, install the library in the console. We want a newer version of the `waffle` library than is in CRAN -- where you normally get libraries from -- so copy and paste this into your console:\n\n`install.packages(\"waffle\")`\n\nNow load it:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(waffle)\n```\n:::\n\n\n\n\n## Making waffles with vectors\n\nLet's look at the debacle that was Nebraska vs. Michigan State in fall 2021 in college football. [Here's the box score](https://www.espn.com/college-football/matchup?gameId=401282784), which we'll use for this part of the walkthrough.\n\nMaybe the easiest way to do waffle charts, at least at first, is to make vectors of your data and plug them in. To make a vector, we use the `c` or concatenate function.\n\nSo let's look at offense. Rushing vs passing.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnu <- c(\"Rushing\"=187, \"Passing\"=255)\nms <- c(\"Rushing\"=71, \"Passing\"=183)\n```\n:::\n\n\n\n\nSo what does the breakdown of the night look like?\n\nThe waffle library can break this down in a way that's easier on the eyes than a pie chart. We call the library, add the data, specify the number of rows, give it a title and an x value label, and to clean up a quirk of the library, we've got to specify colors.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwaffle(\n        nu, \n        rows = 10, \n        title=\"Nebraska's offense\", \n        xlab=\"1 square = 1 yard\", \n        colors = c(\"black\", \"red\")\n)\n```\n\n::: {.cell-output-display}\n![](wafflecharts_files/figure-epub/unnamed-chunk-3-1.png)\n:::\n:::\n\n\n\n\nOr, we could make this two teams in the same chart.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npassing <- c(\"Nebraska\"=255, \"Mighigan State\"=183)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nwaffle(\n        passing, \n        rows = 10, \n        title=\"Nebraska vs Michigan State: passing\", \n        xlab=\"1 square = 1 yard\", \n        colors = c(\"red\", \"black\")\n)\n```\n\n::: {.cell-output-display}\n![](wafflecharts_files/figure-epub/unnamed-chunk-5-1.png)\n:::\n:::\n\n\n\n\nSo what does it look like if we compare the two teams using the two vectors in the same chart? To do that -- and I am not making this up -- you have to create a waffle iron. Get it? Waffle charts? Iron?\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\niron(\n waffle(nu, \n        rows = 10, \n        title=\"Nebraska's offense\", \n        xlab=\"1 square = 1 yard\", \n        colors = c(\"black\", \"red\")\n        ),\n waffle(ms, \n        rows = 10, \n        title=\"Michigan State's offense\", \n        xlab=\"1 square = 1 yard\", \n        colors = c(\"black\", \"red\")\n        )\n)\n```\n\n::: {.cell-output-display}\n![](wafflecharts_files/figure-epub/unnamed-chunk-6-1.png)\n:::\n:::\n\n\n\n\nWhat do you notice about this chart? Notice how the squares aren't the same size? Well, Nebraska out-gained Michigan State by a long way ... AND LOST. So the squares aren't the same size because the numbers aren't the same. We can fix that by adding an unnamed padding number so the number of yards add up to the same thing. Let's make the total for everyone be 442, Nebraska's total yards of offense. So to do that, we need to add a padding of 188 to Michigan State. REMEMBER: Don't name it or it'll show up in the legend.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnu <- c(\"Rushing\"=187, \"Passing\"=255)\nms <- c(\"Rushing\"=71, \"Passing\"=183, 188)\n```\n:::\n\n\n\n\nNow, in our waffle iron, if we don't give that padding a color, we'll get an error. So we need to make it white. Which, given our white background, means it will disappear.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\niron(\n waffle(nu, \n        rows = 10, \n        title=\"Nebraska's offense\", \n        xlab=\"1 square = 1 yard\", \n        colors = c(\"black\", \"red\")\n        ),\n waffle(ms, \n        rows = 10, \n        title=\"Michigan State's offense\", \n        xlab=\"1 square = 1 yard\", \n        colors = c(\"dark green\", \"black\", \"white\")\n        )\n)\n```\n\n::: {.cell-output-display}\n![](wafflecharts_files/figure-epub/unnamed-chunk-8-1.png)\n:::\n:::\n\n\n\n\nOne last thing we can do is change the 1 square = 1 yard bit -- which makes the squares really small in this case -- by dividing our vector. Remember what you learned in Swirl about math on vectors?\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\niron(\n waffle(nu/2, \n        rows = 10, \n        title=\"Nebraska's offense\", \n        xlab=\"1 square = 2 yards\", \n        colors = c(\"black\", \"red\")\n        ),\n waffle(ms/2, \n        rows = 10, \n        title=\"Michigan State's offense\", \n        xlab=\"1 square = 2 yards\", \n        colors = c(\"dark green\", \"black\", \"white\")\n        )\n)\n```\n\n::: {.cell-output-display}\n![](wafflecharts_files/figure-epub/unnamed-chunk-9-1.png)\n:::\n:::\n\n\n\n\nNews flash: Nebraska beat Michigan State everywhere but on the scoreboard and Nebraska is changing its fight song to \"Everybody Hurts\" by REM.\n",
    "supporting": [
      "wafflecharts_files/figure-epub"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": {},
    "postProcess": true
  }
}